#!/usr/bin/env bash

DOTFILES_DIR="$HOME/.dotfiles"

CONFIG_FILES=(
  .zshrc
)

# Config files
for file in "${CONFIG_FILES[@]}"
do
  ln -s "$DOTFILES_DIR/$file" "$HOME/$file"
done

# VSCode config files
ln -s "$DOTFILES_DIR/vscode/settings.json" "$HOME/Library/Application Support/Code/User/settings.json"
ln -s "$DOTFILES_DIR/vscode/keybindings.json" "$HOME/Library/Application Support/Code/User/keybindings.json"

SNIPPETS_DIR="$HOME/Library/Application Support/Code/User/snippets"

# While creating a symbolic link for a file is idempotent, for directories the
# link is resolved and creates a new one at the source directory, recursively
# pointing to itself.
if [ -d "$SNIPPETS_DIR" ]
then
  echo "$SNIPPETS_DIR: Directory exists"
else
  ln -s "$DOTFILES_DIR/vscode/snippets/" "$SNIPPETS_DIR"
fi
